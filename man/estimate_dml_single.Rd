% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dml.R
\name{estimate_dml_single}
\alias{estimate_dml_single}
\title{Cross-fitted Double ML (single-sample mode)}
\usage{
estimate_dml_single(data, outcome, treatment, crossfit = 5)
}
\arguments{
\item{data}{A data frame containing \code{outcome}, \code{treatment}, and covariates.}

\item{outcome}{Name of the outcome column.}

\item{treatment}{Name of the binary treatment indicator column (0/1).}

\item{crossfit}{Integer number of folds for cross-fitting (default \code{5}; must be \eqn{\ge 2}).}
}
\value{
A list with:
\item{df_v}{Data frame with one row per kept observation, containing:
\code{te} (pseudo-outcome \eqn{v}), \code{a}, \code{b} (all ones),
and centered squares \code{te_sq}, \code{a_sq}, plus \code{primary_index}
mapping back to the original \code{data} rows.}
\item{data2}{Subset of \code{data} corresponding to \code{df_v$primary_index}
(i.e., rows kept after cross-fitting and finite checks).}
}
\description{
Runs K-fold cross-fitting to produce pseudo-outcomes for ATE estimation when
no sample-membership indicator is available (or has no variation). On each
fold, a treatment propensity model is trained on the training split and used
to compute pseudo-outcomes on the test split. Results are combined and
centered to create variance proxies.
}
