% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/treeBuilding.R
\name{split_node}
\alias{split_node}
\title{Recursive split builder for weighted tree (internal function)}
\usage{
split_node(
  split_feature,
  X,
  D,
  parent_loss,
  depth,
  explore_proba = 0.05,
  choose_feature_fn = choose_feature,
  reduce_weight_fn = reduce_weight,
  global_objective_fn = objective_default,
  max_depth = 8,
  min_leaf_n = 5,
  log_fn = function(...) {
 },
  max_rejects_per_node = 1000
)
}
\arguments{
\item{split_feature}{Named numeric vector of feature selection probabilities (must include "leaf").}

\item{X}{Data frame of current observations (includes candidate split feature columns; may include a working copy of weights \code{w}).}

\item{D}{Data frame representing the global state (must include columns \code{w} and \code{vsq}; row names align to observations).}

\item{parent_loss}{Numeric, the loss value of the parent node (used to decide if a split improves the objective).}

\item{depth}{Integer, current tree depth.}

\item{explore_proba}{Numeric, the probability (between 0 and 1) of flipping the exploit choice at a leaf.}

\item{choose_feature_fn}{Function to choose next feature (default \code{choose_feature}).}

\item{reduce_weight_fn}{Function to penalize last-tried feature on rejected split (default \code{reduce_weight}).}

\item{global_objective_fn}{Function \verb{function(D) -> numeric} scoring the \strong{entire} state.}

\item{max_depth}{Integer max depth (stop and make leaf at this depth).}

\item{min_leaf_n}{Integer min rows to attempt a split; else make leaf.}

\item{log_fn}{Function for logging; default no-op.}

\item{max_rejects_per_node}{Safety budget of rejected splits before forcing a leaf.}
}
\value{
A list representing the (sub)tree; includes updated \code{D} and \verb{local objective}.
}
\description{
Recursively builds a weighted decision tree to optimize a global objective,
using an exploration/exploitation trade-off. Internal; used by ROOT().
}
\keyword{internal}
